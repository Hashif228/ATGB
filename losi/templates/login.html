{% extends "base.html" %}


{% block menu %}
  <a href="{% url 'home' %}" style="color: white;text-decoration: none;"><div>Home</div></a>
    <a href="{% url 'signup' %}" style="color: white;text-decoration: none;"><div>Signup</div></a>
{% endblock  %}


{% block welcome %}
    <h1>Login</h1>
    <p>
      Log in to your account to continue.
    </p>

{% endblock  %}





{% block losi %}
 
<div class="login-wrapper" id="loginBox">
    <div class="overlay">
         {% if messages %}
    {% for message in messages %}
      <div style="color: rgb(2, 121, 54);margin-left: 10px;margin-top: 0;" class="msg">
        {{ message }} 
      </div>
    {% endfor %}
 
{% endif %}
      <div class="switch-tabs">
        <button id="patientBtn" class="active" onclick="switchTo('patient')">Patient</button>
        <button id="doctorBtn" onclick="switchTo('doctor')">Doctor</button>
      </div>

      <div class="form-slider" id="formSlider">
        <div class="form-container">
          <form method="post">
            {% csrf_token %}
            <div class="form-group">
            <div style="color: white;text-align: center;font-size: larger;font-weight: 500;">Patient Login</div>
<input type="hidden" name="user_type" value="patient">
              <input type="text" required placeholder="Email" name="email">
            </div>
            <div class="form-group">
               
              <input type="password" required placeholder="Password" name="password">
            </div>
            <button type="submit">Login as Patient</button>
          </form>
        </div>
        <div class="form-container">
          <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <input type="hidden" name="user_type" value="doctor">

               <div style="color: white;text-align: center;font-size: larger;font-weight: 500;">Doctor Login</div>
              <input type="email" required placeholder="Email" name="email">
            </div>
            <div class="form-group">
              <input type="password" required placeholder="Password" name="password">
            </div>
            <button type="submit">Login as Doctor</button>
          </form>
        </div>
      </div>
    </div>
  </div>

<script>
  setTimeout(function () {
    const messages = document.querySelectorAll('.msg');
    messages.forEach(function (msg) {
      msg.style.transition = "opacity 0.5s ease";
      msg.style.opacity = 0;
      setTimeout(() => msg.style.display = 'none', 500);
    });
  }, 3000);
</script>
  {% endblock losi %}