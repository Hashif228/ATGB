{% extends "base.html" %}

{% block menu %}
  <a href="{% url 'home' %}" style="color: white;text-decoration: none;"><div>Home</div></a>
    <a href="{% url 'login' %}" style="color: white;text-decoration: none;"><div>Login</div></a>
{% endblock  %}

{% block welcome %}
  <h1>Sign Up</h1>
  <p>Create an account to continue.</p>
{% endblock %}

{% block losi %}
<div class="mt-3 register_container">
  <div class="register_form_bg_img">
    <div class="register_form">
<form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="row">
          <div class="col-6 p-0 register_form_col1">
            <div class="row m-3">
              <input type="text" class="firstname p-1" name="first_name" placeholder="First Name">
            </div>

            <div class="row m-3">
              <input type="text" class="lastname p-1" name="last_name" placeholder="Last Name">
            </div>

            <div class="row m-3">
              <select style="width: 50%; height: 34px;" name="user_type">
                <option value="">- Select User Type -</option>
                <option value="patient">Patient</option>
                <option value="doctor">Doctor</option>
              </select>
            </div>

            <div class="row m-3">
              <input type="text" class="address p-1" name="address_line1" placeholder="Address">
            </div>

   

<div class="row m-3">
              <input type="text" class="state p-1" name="state" placeholder="State">
            </div>


          <div class="row m-3">
              <input type="text" class="City p-1" name="city" placeholder="City">
            </div>



            <div class="row m-3">
              <input type="text" class="phone p-1" name="pincode" placeholder="Pincode">
            </div>
          </div>

          <div class="col-6 p-0 register_form_col2">
            {% if messages %}
    {% for message in messages %}
      <div style="color: rgb(233, 15, 47);margin-left: 10px;margin-top: 0;" class="msg">
        {{ message }} 
      </div>
    {% endfor %}
 
{% endif %}
            <div class="row m-3">
              <input type="text" class="username p-1" name="username" placeholder="Username">
            </div>

            <div class="row m-3">
              <input type="email" class="email p-1" name="email" placeholder="Email">
            </div>

            <div class="row m-3">
              <input type="password" id="password" class="password p-1" name="password" placeholder="Password">
            </div>

            <div class="row m-3">
              <input type="password" id="confirm_password" class="confirm_password p-1" name="confirm_password" placeholder="Confirm Password">
            </div>
<span id="password_message" style="color:red;"></span>

            <div class="row m-3">
              <input type="file" class="avatar p-1 mb-3" name="profile_picture" required style="width: 205px; background-color: rgb(4, 10, 95);" placeholder="Picture">
            </div>

            <div class="row m-3">
              <button type="submit" style="height: 40px; background-color: #1d2d52; color: white; width: 180px;">Send Otp</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirm_password');
    const message = document.getElementById('password_message');

    function checkPasswords() {
        if (confirmPassword.value === "") {
            message.textContent = "";
            return;
        }
        if (password.value === confirmPassword.value) {
            message.style.color = "green";
            message.textContent = "Passwords match";
        } else {
            message.style.color = "red";
            message.textContent = "Passwords do not match";
        }
    }

    password.addEventListener('input', checkPasswords);
    confirmPassword.addEventListener('input', checkPasswords);
});
  setTimeout(function () {
    const messages = document.querySelectorAll('.msg');
    messages.forEach(function (msg) {
      msg.style.transition = "opacity 0.5s ease";
      msg.style.opacity = 0;
      setTimeout(() => msg.style.display = 'none', 500);
    });
  }, 3000);
</script>


{% endblock %}
